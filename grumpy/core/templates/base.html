<!DOCTYPE html>

{% load account %}
{% load i18n %}
{% load static %}
{% load tags_settings %}


<html lang="en" data-bs-theme="auto">

    <head>
        <meta  charset="utf-8">
        <meta  name="viewport" content="width=device-width, initial-scale=1">
        <title>
            {% block head_title %}grumpy{% endblock %}
        </title>
        <link  rel="icon" type="image/png" sizes="32x32" href="{% static 'core/img/favicon-32x32.png' %}">
        <link  rel="icon" type="image/png" sizes="16x16" href="{% static 'core/img/favicon-16x16.png' %}">
        {% block head-style %}
            {# bootstrap #}
            <link  rel="stylesheet" 
                   href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" 
                   integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" 
                   crossorigin="anonymous">
            {# grumpy #}
            <link rel="stylesheet" href="{% static 'core/css/base.css' %}">
        {% endblock head-style %}
        {% block head-scripts %}
            {# jquery #}
            <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" 
                    integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" 
                    crossorigin="anonymous">
            </script>
            {# bootstrap #}
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" 
                    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" 
                    crossorigin="anonymous">
            </script>
            {# grumpy #}
            <script type="text/javascript" src="{% static 'core/js/grumpy.js' %}"></script>
        {% endblock head-scripts %}
    </head>

    <body class="min-vh-100 d-flex flex-shrink-0 flex-column" id="grumpy">
 
        <header data-bs-theme="dark">
            {% block header %}
                <nav class="navbar navbar-expand-lg bg-body-tertiary">
                    <div class="container-fluid">
                        <a class="navbar-brand" href="/">{% settings_value "PROJECT_NAME" %}</a>
                        <button class="navbar-toggler" 
                                type="button" 
                                data-bs-toggle="collapse" 
                                data-bs-target="#navbarText" 
                                aria-controls="navbarText" 
                                aria-expanded="false" 
                                aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarText">
                            <ul role="navigation" aria-label="Project links" class="navbar-nav me-auto mb-2 mb-lg-0">
                                <li id="books-nav-item" class="nav-item">
                                    <a class="nav-link" href="{% url 'book-list' %}">Books</a>
                                </li>
                                <li id="meetings-nav-item" class="nav-item">
                                    <a class="nav-link" href="{% url 'meeting-list' %}">Meetings</a>
                                </li>
                                <li id="help-nav-item" class="nav-item">
                                    <a class="nav-link" href="{% url 'help' %}">Help</a>
                                </li>
                            </ul>
                            <div class="d-flex flex-column flex-sm-row gap-2 col-lg-3 justify-content-lg-end text-nowrap">
                                {% if user.is_authenticated %}
                                    <a href="{% url 'users-current' %}" class="navbar-text">{% user_display user %}</a>&nbsp;
                                    <a href="{% url 'account_logout' %}" class="btn btn-danger">Sign Out</a>
                                {% else %}
                                    <a href="{% url 'account_login' %}" class="btn btn-outline-light">Sign In</a>
                                    {% url 'account_signup' as signup_url_ %}
                                    {% if signup_url_ %}
                                        <a href="{{ signup_url_ }}" class="btn btn-success">Sign Up</a>
                                    {% endif %}
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </nav>
            {% endblock header %}
        </header>

        <div id="messages">
            {% block messages %}
                {% for message in messages %}
                    <div class="alert {{ message.tags }} alert-dismissible fade show" role="alert">
                        {{ message | safe }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                {% endfor %}
            {% endblock messages %}
        </div>

        <div class="content w-75 mx-auto">
            <br/>
            {% block content %}
                you forgot to add content!
            {% endblock content %}
        </div>
        
        <footer class="footer">
            {% block footer %}
                <div class="container-fluid text-muted ">
                    <div class="row align-items-center ">
                        <div class="col">Â© 2025 allynt</div>
                        {% if user.is_staff %}
                            <div class="col text-end fst-italic"><a class="unstyled" href="{% url 'admin:index' %}">admin</a></div>
                        {% endif %}
                    </div>
                </div>
            {% endblock footer %}
        </footer>

        {% block scripts %}
            {# '$(document).ready(function()...' code goes here #}
        {% endblock scripts %}

    </body>

</html>