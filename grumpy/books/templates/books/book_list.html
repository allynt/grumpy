{% extends "books/book_base.html" %}

{% load account %}
{% load i18n %}
{% load static %}
{% load tags_settings %}

{% block content %}
    
    <p>
      At any given time, you can have a maximum of <span class="text-primary font-weight-bold fs-5">{% settings_value 'MAX_FREE_BOOKS' %}</span> unread books.
    </p>

    <p>
      Here are all of your books:
    </p>
    
    <div class="list-group">
      {% for book in books %}
        <a href="{% url 'book-update' book.pk %}"  class="d-flex list-group-item justify-content-between align-items-center">
            "{{ book.title }}" by {{ book.author }}
            {# TODO: MAKE THIS A BIT CLEANER #}
            {% with book.status.value as status %}
              {% if status == "Read" %}
                <span class="badge badge-pill badge-secondary bg-success">{{status}}</span>
              {% elif status == "Unread" %}
                <span class="badge badge-pill badge-secondary bg-secondary">{{status}}</span>
              {% else %} {# if status == "Reading" #}
                <span class="badge badge-pill badge-secondary bg-warning">{{status}}</span>
              {% endif %}
            {% endwith %}
        </a>
      {% endfor %}
    </div>

  <br/>

  <div class="card  bg-light mb-3">
    <div class="card-body">
      <!-- <h5 class="card-title">Info card title</h5> -->
      <p class="card-text">     
        {% if profile.can_add_books %}
          Hooray, you can <a href="{% url 'book-add' %}">add more books</a>!
        {% else %}
          Sorry, you cannot add any more books.
        {% endif %}
      </p>
    </div>
  </div>
   
    
    
{% endblock content %} 

